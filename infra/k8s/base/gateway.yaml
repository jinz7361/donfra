apiVersion: gateway.networking.k8s.io/v1
kind: Gateway
metadata:
  name: donfra-gateway
  namespace: donfra
  annotations:
    # Configure service type (LoadBalancer, NodePort, or ClusterIP)
    networking.istio.io/service-type: LoadBalancer
    # Configure nodeSelector for gateway pods
    traffic.istio.io/nodeSelector: "ingress-ready=true"
spec:
  gatewayClassName: istio
  listeners:
  # HTTP listener on port 80
  - name: http
    hostname: "donfra.local"
    port: 80
    protocol: HTTP
    allowedRoutes:
      namespaces:
        from: Same
  # Optional: HTTPS listener (for future use)
  # - name: https
  #   hostname: "donfra.local"
  #   port: 443
  #   protocol: HTTPS
  #   tls:
  #     mode: Terminate
  #     certificateRefs:
  #     - name: donfra-tls
  #   allowedRoutes:
  #     namespaces:
  #       from: Same
